(function(b,h){typeof exports=="object"&&typeof module<"u"?h(exports):typeof define=="function"&&define.amd?define(["exports"],h):h((b=typeof globalThis<"u"?globalThis:b||self).htmlToImage={})})(this,(function(b){"use strict";function h(n,e,t,o){return new(t||(t=Promise))((function(u,r){function i(f){try{c(o.next(f))}catch(a){r(a)}}function s(f){try{c(o.throw(f))}catch(a){r(a)}}function c(f){var a;f.done?u(f.value):(a=f.value,a instanceof t?a:new t((function(d){d(a)}))).then(i,s)}c((o=o.apply(n,e||[])).next())}))}function v(n,e){var t,o,u,r,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(r[Symbol.iterator]=function(){return this}),r;function s(c){return function(f){return(function(a){if(t)throw new TypeError("Generator is already executing.");for(;r&&(r=0,a[0]&&(i=0)),i;)try{if(t=1,o&&(u=2&a[0]?o.return:a[0]?o.throw||((u=o.return)&&u.call(o),0):o.next)&&!(u=u.call(o,a[1])).done)return u;switch(o=0,u&&(a=[2&a[0],u.value]),a[0]){case 0:case 1:u=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,o=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(u=i.trys,!((u=u.length>0&&u[u.length-1])||a[0]!==6&&a[0]!==2)){i=0;continue}if(a[0]===3&&(!u||a[1]>u[0]&&a[1]<u[3])){i.label=a[1];break}if(a[0]===6&&i.label<u[1]){i.label=u[1],u=a;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(a);break}u[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(n,i)}catch(d){a=[6,d],o=0}finally{t=u=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}})([c,f])}}}var k,Z=(k=0,function(){return k+=1,"u".concat("0000".concat((Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)).concat(k)});function x(n){for(var e=[],t=0,o=n.length;t<o;t++)e.push(n[t]);return e}function R(n,e){var t=(n.ownerDocument.defaultView||window).getComputedStyle(n).getPropertyValue(e);return t?parseFloat(t.replace("px","")):0}function I(n,e){e===void 0&&(e={});var t,o,u,r=e.width||(o=R(t=n,"border-left-width"),u=R(t,"border-right-width"),t.clientWidth+o+u),i=e.height||(function(s){var c=R(s,"border-top-width"),f=R(s,"border-bottom-width");return s.clientHeight+c+f})(n);return{width:r,height:i}}var m=16384;function ee(n,e){return e===void 0&&(e={}),n.toBlob?new Promise((function(t){n.toBlob(t,e.type?e.type:"image/png",e.quality?e.quality:1)})):new Promise((function(t){for(var o=window.atob(n.toDataURL(e.type?e.type:void 0,e.quality?e.quality:void 0).split(",")[1]),u=o.length,r=new Uint8Array(u),i=0;i<u;i+=1)r[i]=o.charCodeAt(i);t(new Blob([r],{type:e.type?e.type:"image/png"}))}))}function T(n){return new Promise((function(e,t){var o=new Image;o.decode=function(){return e(o)},o.onload=function(){return e(o)},o.onerror=t,o.crossOrigin="anonymous",o.decoding="async",o.src=n}))}function te(n){return h(this,void 0,void 0,(function(){return v(this,(function(e){return[2,Promise.resolve().then((function(){return new XMLSerializer().serializeToString(n)})).then(encodeURIComponent).then((function(t){return"data:image/svg+xml;charset=utf-8,".concat(t)}))]}))}))}function ne(n,e,t){return h(this,void 0,void 0,(function(){var o,u,r;return v(this,(function(i){return o="http://www.w3.org/2000/svg",u=document.createElementNS(o,"svg"),r=document.createElementNS(o,"foreignObject"),u.setAttribute("width","".concat(e)),u.setAttribute("height","".concat(t)),u.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),r.setAttribute("width","100%"),r.setAttribute("height","100%"),r.setAttribute("x","0"),r.setAttribute("y","0"),r.setAttribute("externalResourcesRequired","true"),u.appendChild(r),r.appendChild(n),[2,te(u)]}))}))}var p=function(n,e){if(n instanceof e)return!0;var t=Object.getPrototypeOf(n);return t!==null&&(t.constructor.name===e.name||p(t,e))};function re(n,e,t){var o=".".concat(n,":").concat(e),u=t.cssText?(function(r){var i=r.getPropertyValue("content");return"".concat(r.cssText," content: '").concat(i.replace(/'|"/g,""),"';")})(t):(function(r){return x(r).map((function(i){var s=r.getPropertyValue(i),c=r.getPropertyPriority(i);return"".concat(i,": ").concat(s).concat(c?" !important":"",";")})).join(" ")})(t);return document.createTextNode("".concat(o,"{").concat(u,"}"))}function j(n,e,t){var o=window.getComputedStyle(n,t),u=o.getPropertyValue("content");if(u!==""&&u!=="none"){var r=Z();try{e.className="".concat(e.className," ").concat(r)}catch{return}var i=document.createElement("style");i.appendChild(re(r,t,o)),e.appendChild(i)}}var q="application/font-woff",U="image/jpeg",ie={woff:q,woff2:q,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:U,jpeg:U,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function D(n){var e=(function(t){var o=/\.([^./]*?)$/g.exec(t);return o?o[1]:""})(n).toLowerCase();return ie[e]||""}function M(n){return n.search(/^(data:)/)!==-1}function O(n,e){return"data:".concat(e,";base64,").concat(n)}function B(n,e,t){return h(this,void 0,void 0,(function(){var o,u;return v(this,(function(r){switch(r.label){case 0:return[4,fetch(n,e)];case 1:if((o=r.sent()).status===404)throw new Error('Resource "'.concat(o.url,'" not found'));return[4,o.blob()];case 2:return u=r.sent(),[2,new Promise((function(i,s){var c=new FileReader;c.onerror=s,c.onloadend=function(){try{i(t({res:o,result:c.result}))}catch(f){s(f)}},c.readAsDataURL(u)}))]}}))}))}var H={};function V(n,e,t){return h(this,void 0,void 0,(function(){var o,u,r,i,s;return v(this,(function(c){switch(c.label){case 0:if(o=(function(f,a,d){var l=f.replace(/\?.*/,"");return d&&(l=f),/ttf|otf|eot|woff2?/i.test(l)&&(l=l.replace(/.*\//,"")),a?"[".concat(a,"]").concat(l):l})(n,e,t.includeQueryParams),H[o]!=null)return[2,H[o]];t.cacheBust&&(n+=(/\?/.test(n)?"&":"?")+new Date().getTime()),c.label=1;case 1:return c.trys.push([1,3,,4]),[4,B(n,t.fetchRequestInit,(function(f){var a=f.res,d=f.result;return e||(e=a.headers.get("Content-Type")||""),(function(l){return l.split(/,/)[1]})(d)}))];case 2:return r=c.sent(),u=O(r,e),[3,4];case 3:return i=c.sent(),u=t.imagePlaceholder||"",s="Failed to fetch resource: ".concat(n),i&&(s=typeof i=="string"?i:i.message),s&&console.warn(s),[3,4];case 4:return H[o]=u,[2,u]}}))}))}function oe(n){return h(this,void 0,void 0,(function(){var e;return v(this,(function(t){return(e=n.toDataURL())==="data:,"?[2,n.cloneNode(!1)]:[2,T(e)]}))}))}function ue(n,e){return h(this,void 0,void 0,(function(){var t,o,u,r;return v(this,(function(i){switch(i.label){case 0:return n.currentSrc?(t=document.createElement("canvas"),o=t.getContext("2d"),t.width=n.clientWidth,t.height=n.clientHeight,o?.drawImage(n,0,0,t.width,t.height),[2,T(t.toDataURL())]):(u=n.poster,r=D(u),[4,V(u,r,e)]);case 1:return[2,T(i.sent())]}}))}))}function ce(n){var e;return h(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return t.trys.push([0,3,,4]),!((e=n?.contentDocument)===null||e===void 0)&&e.body?[4,A(n.contentDocument.body,{},!0)]:[3,2];case 1:return[2,t.sent()];case 2:return[3,4];case 3:return t.sent(),[3,4];case 4:return[2,n.cloneNode(!1)]}}))}))}function ae(n,e){return p(e,Element)&&((function(t,o){var u=o.style;if(u){var r=window.getComputedStyle(t);r.cssText?(u.cssText=r.cssText,u.transformOrigin=r.transformOrigin):x(r).forEach((function(i){var s=r.getPropertyValue(i);if(i==="font-size"&&s.endsWith("px")){var c=Math.floor(parseFloat(s.substring(0,s.length-2)))-.1;s="".concat(c,"px")}p(t,HTMLIFrameElement)&&i==="display"&&s==="inline"&&(s="block"),i==="d"&&o.getAttribute("d")&&(s="path(".concat(o.getAttribute("d"),")")),u.setProperty(i,s,r.getPropertyPriority(i))}))}})(n,e),(function(t,o){j(t,o,":before"),j(t,o,":after")})(n,e),(function(t,o){p(t,HTMLTextAreaElement)&&(o.innerHTML=t.value),p(t,HTMLInputElement)&&o.setAttribute("value",t.value)})(n,e),(function(t,o){if(p(t,HTMLSelectElement)){var u=o,r=Array.from(u.children).find((function(i){return t.value===i.getAttribute("value")}));r&&r.setAttribute("selected","")}})(n,e)),e}function A(n,e,t){return h(this,void 0,void 0,(function(){return v(this,(function(o){return t||!e.filter||e.filter(n)?[2,Promise.resolve(n).then((function(u){return(function(r,i){return h(this,void 0,void 0,(function(){return v(this,(function(s){return p(r,HTMLCanvasElement)?[2,oe(r)]:p(r,HTMLVideoElement)?[2,ue(r,i)]:p(r,HTMLIFrameElement)?[2,ce(r)]:[2,r.cloneNode(!1)]}))}))})(u,e)})).then((function(u){return(function(r,i,s){var c,f;return h(this,void 0,void 0,(function(){var a;return v(this,(function(d){switch(d.label){case 0:return a=[],(a=(l=r).tagName!=null&&l.tagName.toUpperCase()==="SLOT"&&r.assignedNodes?x(r.assignedNodes()):p(r,HTMLIFrameElement)&&(!((c=r.contentDocument)===null||c===void 0)&&c.body)?x(r.contentDocument.body.childNodes):x(((f=r.shadowRoot)!==null&&f!==void 0?f:r).childNodes)).length===0||p(r,HTMLVideoElement)?[2,i]:[4,a.reduce((function(g,w){return g.then((function(){return A(w,s)})).then((function(y){y&&i.appendChild(y)}))}),Promise.resolve())];case 1:return d.sent(),[2,i]}var l}))}))})(n,u,e)})).then((function(u){return ae(n,u)})).then((function(u){return(function(r,i){return h(this,void 0,void 0,(function(){var s,c,f,a,d,l,g,w,y,S,E,F,C;return v(this,(function(N){switch(N.label){case 0:if((s=r.querySelectorAll?r.querySelectorAll("use"):[]).length===0)return[2,r];c={},C=0,N.label=1;case 1:return C<s.length?(f=s[C],(a=f.getAttribute("xlink:href"))?(d=r.querySelector(a),l=document.querySelector(a),d||!l||c[a]?[3,3]:(g=c,w=a,[4,A(l,i,!0)])):[3,3]):[3,4];case 2:g[w]=N.sent(),N.label=3;case 3:return C++,[3,1];case 4:if((y=Object.values(c)).length){for(S="http://www.w3.org/1999/xhtml",(E=document.createElementNS(S,"svg")).setAttribute("xmlns",S),E.style.position="absolute",E.style.width="0",E.style.height="0",E.style.overflow="hidden",E.style.display="none",F=document.createElementNS(S,"defs"),E.appendChild(F),C=0;C<y.length;C++)F.appendChild(y[C]);r.appendChild(E)}return[2,r]}}))}))})(u,e)}))]:[2,null]}))}))}var z=/url\((['"]?)([^'"]+?)\1\)/g,se=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,le=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function fe(n,e,t,o,u){return h(this,void 0,void 0,(function(){var r,i,s,c;return v(this,(function(f){switch(f.label){case 0:return f.trys.push([0,5,,6]),r=t?(function(l,g){if(l.match(/^[a-z]+:\/\//i))return l;if(l.match(/^\/\//))return window.location.protocol+l;if(l.match(/^[a-z]+:/i))return l;var w=document.implementation.createHTMLDocument(),y=w.createElement("base"),S=w.createElement("a");return w.head.appendChild(y),w.body.appendChild(S),g&&(y.href=g),S.href=l,S.href})(e,t):e,i=D(e),s=void 0,u?[4,u(r)]:[3,2];case 1:return c=f.sent(),s=O(c,i),[3,4];case 2:return[4,V(r,i,o)];case 3:s=f.sent(),f.label=4;case 4:return[2,n.replace((a=e,d=a.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1"),new RegExp(`(url\\(['"]?)(`.concat(d,`)(['"]?\\))`),"g")),"$1".concat(s,"$3"))];case 5:return f.sent(),[3,6];case 6:return[2,n]}var a,d}))}))}function W(n){return n.search(z)!==-1}function $(n,e,t){return h(this,void 0,void 0,(function(){var o,u;return v(this,(function(r){return W(n)?(o=(function(i,s){var c=s.preferredFontFormat;return c?i.replace(le,(function(f){for(;;){var a=se.exec(f)||[],d=a[0],l=a[2];if(!l)return"";if(l===c)return"src: ".concat(d,";")}})):i})(n,t),u=(function(i){var s=[];return i.replace(z,(function(c,f,a){return s.push(a),c})),s.filter((function(c){return!M(c)}))})(o),[2,u.reduce((function(i,s){return i.then((function(c){return fe(c,s,e,t)}))}),Promise.resolve(o))]):[2,n]}))}))}function L(n,e,t){var o;return h(this,void 0,void 0,(function(){var u,r;return v(this,(function(i){switch(i.label){case 0:return(u=(o=e.style)===null||o===void 0?void 0:o.getPropertyValue(n))?[4,$(u,null,t)]:[3,2];case 1:return r=i.sent(),e.style.setProperty(n,r,e.style.getPropertyPriority(n)),[2,!0];case 2:return[2,!1]}}))}))}function he(n,e){return h(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,L("background",n,e)];case 1:return t.sent()?[3,3]:[4,L("background-image",n,e)];case 2:t.sent(),t.label=3;case 3:return[4,L("mask",n,e)];case 4:return t.sent()?[3,6]:[4,L("mask-image",n,e)];case 5:t.sent(),t.label=6;case 6:return[2]}}))}))}function de(n,e){return h(this,void 0,void 0,(function(){var t,o,u;return v(this,(function(r){switch(r.label){case 0:return(t=p(n,HTMLImageElement))&&!M(n.src)||p(n,SVGImageElement)&&!M(n.href.baseVal)?[4,V(o=t?n.src:n.href.baseVal,D(o),e)]:[2];case 1:return u=r.sent(),[4,new Promise((function(i,s){n.onload=i,n.onerror=s;var c=n;c.decode&&(c.decode=i),c.loading==="lazy"&&(c.loading="eager"),t?(n.srcset="",n.src=u):n.href.baseVal=u}))];case 2:return r.sent(),[2]}}))}))}function ve(n,e){return h(this,void 0,void 0,(function(){var t,o;return v(this,(function(u){switch(u.label){case 0:return t=x(n.childNodes),o=t.map((function(r){return _(r,e)})),[4,Promise.all(o).then((function(){return n}))];case 1:return u.sent(),[2]}}))}))}function _(n,e){return h(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return p(n,Element)?[4,he(n,e)]:[3,4];case 1:return t.sent(),[4,de(n,e)];case 2:return t.sent(),[4,ve(n,e)];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))}var G={};function J(n){return h(this,void 0,void 0,(function(){var e,t;return v(this,(function(o){switch(o.label){case 0:return(e=G[n])!=null?[2,e]:[4,fetch(n)];case 1:return[4,o.sent().text()];case 2:return t=o.sent(),e={url:n,cssText:t},G[n]=e,[2,e]}}))}))}function Q(n,e){return h(this,void 0,void 0,(function(){var t,o,u,r,i=this;return v(this,(function(s){return t=n.cssText,o=/url\(["']?([^"')]+)["']?\)/g,u=t.match(/url\([^)]+\)/g)||[],r=u.map((function(c){return h(i,void 0,void 0,(function(){var f;return v(this,(function(a){return(f=c.replace(o,"$1")).startsWith("https://")||(f=new URL(f,n.url).href),[2,B(f,e.fetchRequestInit,(function(d){var l=d.result;return t=t.replace(c,"url(".concat(l,")")),[c,l]}))]}))}))})),[2,Promise.all(r).then((function(){return t}))]}))}))}function X(n){if(n==null)return[];for(var e=[],t=n.replace(/(\/\*[\s\S]*?\*\/)/gi,""),o=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");(i=o.exec(t))!==null;)e.push(i[0]);t=t.replace(o,"");for(var u=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,r=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){var i;if((i=u.exec(t))===null){if((i=r.exec(t))===null)break;u.lastIndex=r.lastIndex}else r.lastIndex=u.lastIndex;e.push(i[0])}return e}function pe(n,e){return h(this,void 0,void 0,(function(){var t,o;return v(this,(function(u){return t=[],o=[],n.forEach((function(r){if("cssRules"in r)try{x(r.cssRules||[]).forEach((function(s,c){if(s.type===CSSRule.IMPORT_RULE){var f=c+1,a=J(s.href).then((function(d){return Q(d,e)})).then((function(d){return X(d).forEach((function(l){try{r.insertRule(l,l.startsWith("@import")?f+=1:r.cssRules.length)}catch(g){console.error("Error inserting rule from remote css",{rule:l,error:g})}}))})).catch((function(d){console.error("Error loading remote css",d.toString())}));o.push(a)}}))}catch(s){var i=n.find((function(c){return c.href==null}))||document.styleSheets[0];r.href!=null&&o.push(J(r.href).then((function(c){return Q(c,e)})).then((function(c){return X(c).forEach((function(f){i.insertRule(f,r.cssRules.length)}))})).catch((function(c){console.error("Error loading remote stylesheet",c)}))),console.error("Error inlining remote css file",s)}})),[2,Promise.all(o).then((function(){return n.forEach((function(r){if("cssRules"in r)try{x(r.cssRules||[]).forEach((function(i){t.push(i)}))}catch(i){console.error("Error while reading CSS rules from ".concat(r.href),i)}})),t}))]}))}))}function ge(n){return n.filter((function(e){return e.type===CSSRule.FONT_FACE_RULE})).filter((function(e){return W(e.style.getPropertyValue("src"))}))}function me(n,e){return h(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:if(n.ownerDocument==null)throw new Error("Provided element is not within a Document");return[4,pe(x(n.ownerDocument.styleSheets),e)];case 1:return[2,ge(t.sent())]}}))}))}function K(n,e){return h(this,void 0,void 0,(function(){var t;return v(this,(function(o){switch(o.label){case 0:return[4,me(n,e)];case 1:return t=o.sent(),[4,Promise.all(t.map((function(u){var r=u.parentStyleSheet?u.parentStyleSheet.href:null;return $(u.cssText,r,e)})))];case 2:return[2,o.sent().join(`
`)]}}))}))}function we(n,e){return h(this,void 0,void 0,(function(){var t,o,u,r,i;return v(this,(function(s){switch(s.label){case 0:return e.fontEmbedCSS==null?[3,1]:(o=e.fontEmbedCSS,[3,5]);case 1:return e.skipFonts?(u=null,[3,4]):[3,2];case 2:return[4,K(n,e)];case 3:u=s.sent(),s.label=4;case 4:o=u,s.label=5;case 5:return(t=o)&&(r=document.createElement("style"),i=document.createTextNode(t),r.appendChild(i),n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r)),[2]}}))}))}function Y(n,e){return e===void 0&&(e={}),h(this,void 0,void 0,(function(){var t,o,u,r;return v(this,(function(i){switch(i.label){case 0:return t=I(n,e),o=t.width,u=t.height,[4,A(n,e,!0)];case 1:return[4,we(r=i.sent(),e)];case 2:return i.sent(),[4,_(r,e)];case 3:return i.sent(),(function(s,c){var f=s.style;c.backgroundColor&&(f.backgroundColor=c.backgroundColor),c.width&&(f.width="".concat(c.width,"px")),c.height&&(f.height="".concat(c.height,"px"));var a=c.style;a!=null&&Object.keys(a).forEach((function(d){f[d]=a[d]}))})(r,e),[4,ne(r,o,u)];case 4:return[2,i.sent()]}}))}))}function P(n,e){return e===void 0&&(e={}),h(this,void 0,void 0,(function(){var t,o,u,r,i,s,c,f,a;return v(this,(function(d){switch(d.label){case 0:return t=I(n,e),o=t.width,u=t.height,[4,Y(n,e)];case 1:return[4,T(d.sent())];case 2:return r=d.sent(),i=document.createElement("canvas"),s=i.getContext("2d"),c=e.pixelRatio||(function(){var l,g;try{g=process}catch{}var w=g&&g.env?g.env.devicePixelRatio:null;return w&&(l=parseInt(w,10),Number.isNaN(l)&&(l=1)),l||window.devicePixelRatio||1})(),f=e.canvasWidth||o,a=e.canvasHeight||u,i.width=f*c,i.height=a*c,e.skipAutoScale||(function(l){(l.width>m||l.height>m)&&(l.width>m&&l.height>m?l.width>l.height?(l.height*=m/l.width,l.width=m):(l.width*=m/l.height,l.height=m):l.width>m?(l.height*=m/l.width,l.width=m):(l.width*=m/l.height,l.height=m))})(i),i.style.width="".concat(f),i.style.height="".concat(a),e.backgroundColor&&(s.fillStyle=e.backgroundColor,s.fillRect(0,0,i.width,i.height)),s.drawImage(r,0,0,i.width,i.height),[2,i]}}))}))}b.getFontEmbedCSS=function(n,e){return e===void 0&&(e={}),h(this,void 0,void 0,(function(){return v(this,(function(t){return[2,K(n,e)]}))}))},b.toBlob=function(n,e){return e===void 0&&(e={}),h(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,P(n,e)];case 1:return[4,ee(t.sent())];case 2:return[2,t.sent()]}}))}))},b.toCanvas=P,b.toJpeg=function(n,e){return e===void 0&&(e={}),h(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,P(n,e)];case 1:return[2,t.sent().toDataURL("image/jpeg",e.quality||1)]}}))}))},b.toPixelData=function(n,e){return e===void 0&&(e={}),h(this,void 0,void 0,(function(){var t,o,u,r;return v(this,(function(i){switch(i.label){case 0:return t=I(n,e),o=t.width,u=t.height,[4,P(n,e)];case 1:return r=i.sent(),[2,r.getContext("2d").getImageData(0,0,o,u).data]}}))}))},b.toPng=function(n,e){return e===void 0&&(e={}),h(this,void 0,void 0,(function(){return v(this,(function(t){switch(t.label){case 0:return[4,P(n,e)];case 1:return[2,t.sent().toDataURL()]}}))}))},b.toSvg=Y}));
